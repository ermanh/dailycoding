'''
2020-07-18
[from dailycodingproblem.com #39]

Conway's Game of Life takes place on an infinite two-dimensional board of 
square cells. Each cell is either dead or alive, and at each tick, the 
following rules apply:

- Any live cell with less than two live neighbours dies.
- Any live cell with two or three live neighbours remains living.
- Any live cell with more than three live neighbours dies.
- Any dead cell with exactly three live neighbours becomes a live cell.
A cell neighbours another cell if it is horizontally, vertically, or 
diagonally adjacent.

Implement Conway's Game of Life. It should be able to be initialized with a 
starting list of live cell coordinates and the number of steps it should run 
for. Once initialized, it should print out the board state at each step. 
Since it's an infinite board, print out only the relevant coordinates, 
i.e. from the top-leftmost live cell to bottom-rightmost live cell.

You can represent a live cell with an asterisk (*) and a dead cell with 
a dot (.).
'''


class ConwaysGameOfLife: 

    def __init__(self, steps, live_cells):
        self.pad = 10  # 10 extra spaces should be enough for imitating an 
                       # infinite board
        self.steps = steps
        self.width = None
        self.height = None
        self.live_cells = None
        self._adjust_live_cells(live_cells)

    def _adjust_live_cells(self, live_cells):
        rows = list(zip(*live_cells))[0]
        cols = list(zip(*live_cells))[1]
        self.height = max(rows) - min(rows) + 1 + self.pad * 2
        self.width = max(cols) - min(cols) + 1 + self.pad * 2
        adjusted_live_cells = []
        for x, y in live_cells:
            adjusted_live_cells.append((x - min(rows), y - min(cols)))
        self.live_cells = adjusted_live_cells

    def _initiate_board(self):
        board = [["." for _ in range(self.width)] for _ in range(self.height)]
        for x, y in self.live_cells:
            board[x + self.pad][y + self.pad] = '*'
        return board
    
    def _get_new_status(self, slot, neighbors):
        live_neighbors = len([n for n in neighbors if n == '*'])
        if (slot == "*" and live_neighbors in [2, 3]):
            return '*' 
        if (slot == "." and live_neighbors == 3):
            return '*'
        return '.'

    def _print_board(self, board):
        board_window = [[elem for elem in row[self.pad:-self.pad]]
                        for row in board[self.pad:-self.pad]]
        for row in board_window:
            print(row)
        print('-' * 5 * len(board_window[0]))
    
    def run(self):
        board = self._initiate_board()
        self._print_board(board)
        
        for _ in range(self.steps):
            new_board = [[elem for elem in row] for row in board]
            for j in range(1, len(board) - 1):
                for k in range(1, len(board[0]) - 1):
                    slot = board[j][k]
                    neighbors = [board[j - 1][k], board[j + 1][k], 
                                 board[j][k - 1], board[j][k + 1],
                                 board[j - 1][k - 1], board[j - 1][k + 1],
                                 board[j + 1][k - 1], board[j + 1][k + 1]]
                    new_board[j][k] = self._get_new_status(slot, neighbors)
            board = [[elem for elem in row] for row in new_board]
            self._print_board(board)


'''
# TESTS

ConwaysGameOfLife(5, [(1,1), (2,1), (2,2), (3,3)]).run()

['*', '.', '.']
['*', '*', '.']
['.', '.', '*']
---------------
['*', '*', '.']
['*', '*', '.']
['.', '*', '.']
---------------
['*', '*', '.']
['.', '.', '*']
['*', '*', '.']
---------------
['.', '*', '.']
['.', '.', '*']
['.', '*', '.']
---------------
['.', '.', '.']
['.', '*', '*']
['.', '.', '.']
---------------
['.', '.', '.']
['.', '.', '.']
['.', '.', '.']
---------------

ConwaysGameOfLife(15, [(0, 4), (1, 3), (2, 2), (4, 6), (4, 5), (3, 4), 
                       (5, 5), (0, 2), (1, 1), (5, 4), (0, 1), (2, 3)]).run()

['*', '*', '.', '*', '.', '.']
['*', '.', '*', '.', '.', '.']
['.', '*', '*', '.', '.', '.']
['.', '.', '.', '*', '.', '.']
['.', '.', '.', '.', '*', '*']
['.', '.', '.', '*', '*', '.']
------------------------------
['*', '*', '*', '.', '.', '.']
['*', '.', '.', '*', '.', '.']
['.', '*', '*', '*', '.', '.']
['.', '.', '*', '*', '*', '.']
['.', '.', '.', '.', '.', '*']
['.', '.', '.', '*', '*', '*']
------------------------------
['*', '*', '*', '.', '.', '.']
['*', '.', '.', '*', '.', '.']
['.', '*', '.', '.', '.', '.']
['.', '*', '.', '.', '*', '.']
['.', '.', '*', '.', '.', '*']
['.', '.', '.', '.', '*', '*']
------------------------------
['*', '.', '*', '.', '.', '.']
['*', '.', '.', '.', '.', '.']
['*', '*', '*', '.', '.', '.']
['.', '*', '*', '.', '.', '.']
['.', '.', '.', '*', '.', '*']
['.', '.', '.', '*', '*', '*']
------------------------------
['*', '.', '*', '.', '.', '.']
['*', '.', '*', '.', '.', '.']
['*', '.', '*', '.', '.', '.']
['*', '.', '.', '*', '.', '.']
['.', '.', '.', '*', '.', '*']
['.', '.', '.', '*', '.', '.']
------------------------------
['.', '.', '*', '*', '.', '.']
['.', '.', '*', '*', '.', '.']
['*', '.', '*', '*', '.', '.']
['.', '*', '*', '*', '*', '.']
['.', '.', '*', '*', '.', '.']
['.', '.', '*', '*', '.', '*']
------------------------------
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '*', '.']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '*', '.']
['.', '.', '.', '.', '.', '*']
['.', '.', '*', '.', '.', '*']
------------------------------
['.', '.', '.', '*', '.', '.']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '*', '*']
['.', '.', '.', '*', '.', '*']
------------------------------
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '*', '*']
['.', '.', '.', '*', '.', '.']
------------------------------
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '*']
['.', '.', '.', '.', '*', '*']
['.', '.', '.', '*', '.', '.']
------------------------------
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '*', '*']
['.', '.', '.', '.', '*', '.']
['.', '.', '*', '*', '.', '.']
------------------------------
['.', '.', '*', '.', '.', '.']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '*']
['.', '.', '.', '.', '*', '*']
['.', '.', '.', '.', '*', '.']
['.', '.', '*', '*', '.', '.']
------------------------------
['.', '.', '*', '*', '.', '.']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '*', '*']
['.', '.', '.', '.', '*', '.']
['.', '.', '.', '.', '*', '.']
['.', '*', '*', '*', '.', '.']
------------------------------
['.', '.', '*', '*', '.', '.']
['.', '.', '.', '*', '*', '*']
['.', '.', '.', '.', '*', '.']
['.', '.', '.', '*', '*', '.']
['.', '.', '*', '.', '*', '*']
['.', '*', '*', '*', '.', '.']
------------------------------
['.', '.', '*', '.', '.', '*']
['.', '.', '*', '.', '.', '*']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.']
['.', '*', '.', '.', '.', '.']
['.', '*', '.', '.', '.', '.']
------------------------------
['.', '.', '.', '*', '*', '*']
['.', '.', '.', '.', '.', '*']
['.', '.', '.', '.', '.', '*']
['.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.']
['*', '*', '.', '.', '.', '.']
------------------------------

ConwaysGameOfLife(8, [(0, 0), (0, 1), (0, 2), (0, 4), (0, 5), (0, 6),
                       (2, 0), (3, 0), (4, 0), (2, 6), (3, 6), (4, 6),
                       (6, 0), (6, 1), (6, 2), (6, 4), (6, 5), (6, 6)]).run()

['*', '*', '*', '.', '*', '*', '*']
['.', '.', '.', '.', '.', '.', '.']
['*', '.', '.', '.', '.', '.', '*']
['*', '.', '.', '.', '.', '.', '*']
['*', '.', '.', '.', '.', '.', '*']
['.', '.', '.', '.', '.', '.', '.']
['*', '*', '*', '.', '*', '*', '*']
-----------------------------------
['.', '*', '.', '.', '.', '*', '.']
['*', '.', '.', '.', '.', '.', '*']
['.', '.', '.', '.', '.', '.', '.']
['*', '*', '.', '.', '.', '*', '*']
['.', '.', '.', '.', '.', '.', '.']
['*', '.', '.', '.', '.', '.', '*']
['.', '*', '.', '.', '.', '*', '.']
-----------------------------------
['*', '*', '.', '.', '.', '*', '*']
['.', '.', '.', '.', '.', '.', '.']
['.', '*', '.', '.', '.', '*', '.']
['*', '.', '.', '.', '.', '.', '*']
['.', '*', '.', '.', '.', '*', '.']
['.', '.', '.', '.', '.', '.', '.']
['*', '*', '.', '.', '.', '*', '*']
-----------------------------------
['.', '.', '.', '.', '.', '.', '.']
['.', '*', '.', '.', '.', '*', '.']
['*', '.', '.', '.', '.', '.', '*']
['.', '*', '.', '.', '.', '*', '.']
['*', '.', '.', '.', '.', '.', '*']
['.', '*', '.', '.', '.', '*', '.']
['.', '.', '.', '.', '.', '.', '.']
-----------------------------------
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['*', '*', '.', '.', '.', '*', '*']
['.', '*', '.', '.', '.', '*', '.']
['*', '*', '.', '.', '.', '*', '*']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
-----------------------------------
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['*', '*', '.', '.', '.', '*', '*']
['.', '.', '*', '.', '*', '.', '.']
['*', '*', '.', '.', '.', '*', '*']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
-----------------------------------
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['*', '*', '.', '.', '.', '*', '*']
['.', '.', '*', '.', '*', '.', '.']
['*', '*', '.', '.', '.', '*', '*']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
-----------------------------------
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['*', '*', '.', '.', '.', '*', '*']
['.', '.', '*', '.', '*', '.', '.']
['*', '*', '.', '.', '.', '*', '*']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
-----------------------------------
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['*', '*', '.', '.', '.', '*', '*']
['.', '.', '*', '.', '*', '.', '.']
['*', '*', '.', '.', '.', '*', '*']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
-----------------------------------

ConwaysGameOfLife(25, [(0, 0), (0, 1), (0, 2), 
                       (3, 2), (3, 3), (3, 4),
                       (6, 4), (6, 5), (6, 6)])

['*', '*', '*', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '*', '*', '*', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '*', '*', '*']
-----------------------------------
['.', '*', '.', '.', '.', '.', '.']
['.', '*', '.', '.', '.', '.', '.']
['.', '.', '.', '*', '.', '.', '.']
['.', '.', '.', '*', '.', '.', '.']
['.', '.', '.', '*', '.', '.', '.']
['.', '.', '.', '.', '.', '*', '.']
['.', '.', '.', '.', '.', '*', '.']
-----------------------------------
['*', '*', '*', '.', '.', '.', '.']
['.', '.', '*', '.', '.', '.', '.']
['.', '.', '*', '.', '.', '.', '.']
['.', '.', '*', '*', '*', '.', '.']
['.', '.', '.', '.', '*', '.', '.']
['.', '.', '.', '.', '*', '.', '.']
['.', '.', '.', '.', '*', '*', '*']
-----------------------------------
['.', '*', '*', '.', '.', '.', '.']
['.', '.', '*', '*', '.', '.', '.']
['.', '*', '*', '.', '.', '.', '.']
['.', '.', '*', '.', '*', '.', '.']
['.', '.', '.', '.', '*', '*', '.']
['.', '.', '.', '*', '*', '.', '.']
['.', '.', '.', '.', '*', '*', '.']
-----------------------------------
['.', '*', '.', '*', '.', '.', '.']
['.', '.', '.', '*', '.', '.', '.']
['.', '*', '.', '.', '.', '.', '.']
['.', '*', '*', '.', '*', '*', '.']
['.', '.', '.', '.', '.', '*', '.']
['.', '.', '.', '*', '.', '.', '.']
['.', '.', '.', '*', '.', '*', '.']
-----------------------------------
['.', '*', '.', '*', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '*', '.', '*', '*', '.', '.']
['.', '*', '*', '.', '*', '*', '.']
['.', '.', '*', '*', '.', '*', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '*', '.', '*', '.']
-----------------------------------
['.', '*', '.', '.', '.', '.', '.']
['.', '.', '.', '*', '*', '.', '.']
['.', '*', '.', '*', '*', '*', '.']
['.', '*', '.', '.', '.', '*', '.']
['.', '*', '*', '*', '.', '*', '.']
['.', '.', '*', '*', '.', '.', '.']
['.', '.', '.', '.', '.', '*', '.']
-----------------------------------
['.', '*', '.', '*', '.', '.', '.']
['.', '.', '.', '*', '.', '*', '.']
['.', '.', '.', '*', '.', '*', '.']
['*', '*', '.', '.', '.', '*', '*']
['.', '*', '.', '*', '.', '.', '.']
['.', '*', '.', '*', '.', '.', '.']
['.', '.', '.', '*', '.', '*', '.']
-----------------------------------
['.', '*', '.', '*', '*', '.', '.']
['.', '.', '.', '*', '.', '.', '.']
['.', '.', '*', '.', '.', '*', '.']
['*', '*', '.', '.', '.', '*', '*']
['.', '*', '.', '.', '*', '.', '.']
['.', '.', '.', '*', '.', '.', '.']
['.', '.', '*', '*', '.', '*', '.']
-----------------------------------
['.', '*', '.', '*', '*', '.', '.']
['.', '.', '.', '*', '.', '.', '.']
['.', '*', '*', '.', '*', '*', '*']
['*', '*', '*', '.', '*', '*', '*']
['*', '*', '*', '.', '*', '*', '.']
['.', '.', '.', '*', '.', '.', '.']
['.', '.', '*', '*', '.', '*', '.']
-----------------------------------
['.', '*', '.', '.', '*', '.', '.']
['.', '*', '.', '.', '.', '.', '.']
['*', '.', '.', '.', '.', '.', '*']
['.', '.', '.', '.', '.', '.', '.']
['*', '.', '.', '.', '.', '.', '*']
['.', '.', '.', '.', '.', '*', '.']
['.', '.', '*', '.', '.', '*', '.']
-----------------------------------
['*', '*', '.', '*', '*', '.', '.']
['*', '*', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '*', '*']
['.', '.', '*', '*', '.', '*', '*']
-----------------------------------
['.', '.', '.', '*', '*', '.', '.']
['*', '*', '*', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '*', '*', '*']
['.', '.', '*', '*', '.', '.', '.']
-----------------------------------
['.', '.', '.', '*', '.', '.', '.']
['.', '*', '*', '*', '.', '.', '.']
['.', '*', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '*', '.']
['.', '.', '.', '*', '*', '*', '.']
['.', '.', '.', '*', '.', '.', '.']
-----------------------------------
['.', '*', '.', '*', '.', '.', '.']
['.', '*', '.', '*', '.', '.', '.']
['.', '*', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '*', '.']
['.', '.', '.', '*', '.', '*', '.']
['.', '.', '.', '*', '.', '*', '.']
-----------------------------------
['*', '*', '.', '*', '*', '.', '.']
['*', '*', '.', '.', '.', '.', '.']
['.', '.', '*', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '*', '.', '.']
['.', '.', '.', '.', '.', '*', '*']
['.', '.', '*', '*', '.', '*', '*']
-----------------------------------
['.', '.', '.', '*', '*', '.', '.']
['*', '.', '.', '*', '.', '.', '.']
['.', '*', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '*', '.']
['.', '.', '.', '*', '.', '.', '*']
['.', '.', '*', '*', '.', '.', '.']
-----------------------------------
['.', '*', '*', '*', '*', '.', '.']
['*', '.', '*', '*', '*', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '*', '*', '*', '.', '*']
['.', '.', '*', '*', '*', '*', '.']
-----------------------------------
['.', '.', '.', '.', '.', '*', '.']
['*', '.', '.', '.', '*', '.', '.']
['.', '.', '.', '*', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '*', '.', '.', '.']
['.', '.', '*', '.', '.', '.', '*']
['.', '*', '.', '.', '.', '.', '.']
-----------------------------------
['*', '.', '.', '.', '*', '*', '.']
['.', '.', '.', '.', '*', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '*', '.', '.', '.', '.']
['.', '*', '*', '.', '.', '.', '*']
-----------------------------------
['*', '.', '.', '*', '.', '.', '.']
['.', '.', '.', '.', '*', '*', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '*', '*', '.', '.', '.', '.']
['.', '.', '.', '*', '.', '.', '*']
-----------------------------------
['*', '.', '.', '*', '.', '.', '.']
['.', '.', '.', '.', '*', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '*', '.', '.', '.', '.']
['.', '.', '.', '*', '.', '.', '*']
-----------------------------------
['.', '.', '.', '*', '*', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '*', '*', '.', '.', '.']
-----------------------------------
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
-----------------------------------
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
-----------------------------------
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
['.', '.', '.', '.', '.', '.', '.']
-----------------------------------

'''

    

    

    

